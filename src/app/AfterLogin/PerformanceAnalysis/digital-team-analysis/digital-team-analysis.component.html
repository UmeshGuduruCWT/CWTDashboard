<mat-drawer-container>
    <mat-drawer #sidenav mode="side" opened style="position: fixed;padding-top: 60px;width: 17%">
        <div class="row" style="margin: 0px;padding: 0px;">
            <div class="col-12" style="margin: 0px;padding: 0px;">
                <div class="sticky">
                    <div class="row col-12" style="background-color: #333F48;color: white;height: 60px;padding: 15px 10px 5px 10px; margin : 0px;text-align: center">
                        <label class="col-5" style="height: 35px;font-size: 20px;text-align: center;margin-top: 10px;padding-left: 25px">Filters</label>
                        <div class="col-2" >
                            <button mat-icon-button style="color: white;cursor: pointer;" (click)="ResetFilters()">
                                <mat-icon>settings_backup_restore</mat-icon>
                            </button>
                        </div>
                        <div class="col-5" style="margin-top: 5px;text-align: right;padding: 0px;">
                            <button class="btn-style" (click)="SetGraph()" [ngStyle]="{'background-color': Apply_disable == true ?  '#DCDCDC' : '#F16950','color' :  Apply_disable == true ? '#AEAEAE' : 'white'}" [disabled]="Apply_disable">Apply</button>
                        </div>
                    </div>
                </div> 
                <mat-form-field class="col-md-12" style="margin-top: 10px;">
                    <mat-label style="font-size: 15px;">Go Live Year</mat-label>
                    <mat-select [formControl]="Year">
                        <mat-option *ngFor="let year of YearsList" [value]="year">{{year}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <div class="col-md-12" style="margin-top: 10px;">
                    <label style="font-weight: bold;">*Project Status</label>
                    <mat-divider style="width: 100%;"></mat-divider>
                    <label style="margin-top: 5px;margin-left: 5px;">C-Closed</label>
                </div>
                <mat-accordion multi="true" style="margin: 0px;padding: 0px;">
                    <mat-expansion-panel class="mat-elevation-z0" style="margin: 10px 0px 0px 0px;" [expanded]="true">
                        <mat-expansion-panel-header [collapsedHeight]="'35px'" [expandedHeight]="'35px'">
                            <mat-panel-title style="margin-left: 0px">
                                <label style="padding-top: 10px;">Region</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-divider style="width: 100%;margin: 10px 0px 0px 0px;"></mat-divider>
                        <mat-nav-list>
                            <mat-list-item style="height: 35px;"><mat-checkbox class="example-margin" [(ngModel)]="masterRegion" name="masterRegion" (change)="checkUncheckRegion()">Select all</mat-checkbox></mat-list-item>
                            <mat-list-item style="height: 35px;" *ngFor="let region of RegionList;"><mat-checkbox class="example-margin" [(ngModel)]="region.isSelected" (change)="regionSelected()" name="region.Region">{{region.Region}}</mat-checkbox></mat-list-item>
                        </mat-nav-list>
                    </mat-expansion-panel>
                    <!-- <div class="li_main" style="margin-left: 10px;">
                        <li class="li_items" *ngFor="let Sstatus of statusListSelected;"><label>{{Sstatus.Milestone__Project_Status}}</label><label class="li_button" (click)="deselectstatus(Sstatus.Milestone__Project_Status)">X</label></li>
                    </div> -->
                    <mat-expansion-panel class="mat-elevation-z0" style="margin: 10px 0px 0px 0px;" [expanded]="true">
                        <mat-expansion-panel-header [collapsedHeight]="'35px'" [expandedHeight]="'35px'">
                            <mat-panel-title style="margin-left: 0px">
                                <label style="padding-top: 10px;">Quarter</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-divider style="width: 100%;margin: 10px 0px 0px 0px;"></mat-divider>
                        <mat-nav-list>
                            <mat-list-item style="height: 35px;"><mat-checkbox class="example-margin" [(ngModel)]="masterquarter" name="masterquarter" (change)="checkUncheckquarter()">Select all</mat-checkbox></mat-list-item>
                            <mat-list-item style="height: 35px;" *ngFor="let quarter of QuarterList"><mat-checkbox class="example-margin" [(ngModel)]="quarter.isSelected" (change)="quarterSelected()" name="quarter.Quarter">{{quarter.Quarter}}</mat-checkbox></mat-list-item>
                        </mat-nav-list>
                    </mat-expansion-panel>
                    <mat-expansion-panel class="mat-elevation-z0" style="margin: 10px 0px 0px 0px;" [expanded]="true">
                        <mat-expansion-panel-header [collapsedHeight]="'35px'" [expandedHeight]="'35px'">
                            <mat-panel-title style="margin-left: 0px">
                                <label style="padding-top: 10px;">Project Level</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-divider style="width: 100%;margin: 10px 0px 0px 0px;"></mat-divider>
                        <mat-nav-list>
                            <mat-list-item style="height: 35px;"><mat-checkbox class="example-margin" [(ngModel)]="masterLevel" name="masterLevel" (change)="checkUnchecklevel()">Select all</mat-checkbox></mat-list-item>
                            <mat-list-item style="height: 35px;" *ngFor="let level of LevelList"><mat-checkbox class="example-margin" [(ngModel)]="level.isSelected" (change)="levelSelected()" name="level.ProjectLevel">{{level.ProjectLevel}}</mat-checkbox></mat-list-item>
                        </mat-nav-list>
                    </mat-expansion-panel>
                    <mat-expansion-panel class="mat-elevation-z0" style="margin: 10px 0px 0px 0px;" [expanded]="true">
                        <mat-expansion-panel-header [collapsedHeight]="'35px'" [expandedHeight]="'35px'">
                            <mat-panel-title style="margin-left: 0px">
                                <label style="padding-top: 10px;">Leader</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-divider style="width: 100%;margin: 10px 0px 0px 0px;"></mat-divider>
                        <mat-nav-list>
                            <mat-list-item style="height: 35px;"><mat-checkbox class="example-margin" [(ngModel)]="masterleader" name="masterleader" (change)="checkUncheckleader()">Select all</mat-checkbox></mat-list-item>
                            <mat-list-item style="height: 35px;" *ngFor="let leader of LeaderList"><mat-checkbox class="example-margin" [(ngModel)]="leader.isSelected" (change)="leaderSelected()" name="leader.RegionalProjectManager">{{leader.RegionalProjectManager}}</mat-checkbox></mat-list-item>
                        </mat-nav-list>
                    </mat-expansion-panel>
                </mat-accordion>
            </div>
        </div>
    </mat-drawer>
    <mat-drawer-content>
        <div class="row" style="margin: 0px;padding: 0px;position: relative;">
            <div class="row col-md-12">
                <!-- <div class="col-md-12">
                    <mat-card class="example-card mat-elevation-z2" style="margin-left: 15px;height: auto;overflow: auto;padding: 0px;">
                        <div class="col-12" style="height: 40px;background-color: #34495E ;color:white;padding: 5px 0px 0px 0px; margin : 0px;text-align: center">
                            <label style="width: 100%;font-size: 16px;margin-top: 8px;text-align: center;font-family: Montserrat, sans-serif">Global PM Project Team</label>
                        </div>
                        <div class="col-md-12" style="margin-top: 20px;margin-bottom: 10px;">
                            <canvas id="CVcanvas" style="height: 1500px;">
                            </canvas>
                        </div>
                    </mat-card>
                </div> -->
                <div class="col-md-12" style="margin-top: 25px;text-align: center;">
                    <label style="margin: 8px 0px 0px 15px;font-size: 16px;font-weight: bold;font-family: Arial, Helvetica, sans-serif;">Count  :&nbsp;&nbsp;</label>
                    <label style="margin: 8px 25px 0px 0px;font-size: 16px;font-weight: bold;font-family: Arial, Helvetica, sans-serif;">{{FilteredCount}}</label>       
                    <!-- <mat-form-field style="width: 60%;margin-left: 10px;">
                        <mat-label style="padding-left: 5px;font-weight: bold;">Search</mat-label>
                        <input matInput (keyup)="applyFilter($event)" #input>
                        <mat-icon matSuffix>search</mat-icon>
                    </mat-form-field> -->
                </div>
                <div class="col-md-12">
                    <div class="example-container" [ngStyle]="{'height' : (screenHeight-155)+'px'}" style="margin-left: 15px;border: 2px solid black;">
                        <table mat-table [dataSource]="dataSource_GM" #GMSort="matSort" matSort>
                            <ng-container matColumnDef="Leader">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="border-bottom: 2px solid black;padding-left: 10px;background-color:  #3B8AD9;color: white;">Leader</th>
                                <td mat-cell *matCellDef="let element" style="padding-left: 10px;"> {{element.Leader}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Manager">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="border-bottom: 2px solid black;background-color:  #3B8AD9;color: white;">Digital Specialist</th>
                                <td mat-cell *matCellDef="let element" class="manager_text" (click)="MangerProjectDetails(element.Manager,element.Leader)"> {{element.Manager}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Region">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="border-bottom: 2px solid black;background-color:  #3B8AD9;color: white;">Region</th>
                                <td mat-cell *matCellDef="let element"> {{element.Region}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Role">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="border-bottom: 2px solid black;background-color:  #3B8AD9;color: white;">Role</th>
                                <td mat-cell *matCellDef="let element"> {{element.Role}} </td>
                            </ng-container>
                            <ng-container matColumnDef="ProjectEffort_c">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="border-bottom: 2px solid black;background-color:  #3B8AD9;color: white;">Total Complexity Score</th>
                                <td mat-cell *matCellDef="let element"> {{element.ProjectEffort_c}} </td>
                            </ng-container>
                            <ng-container matColumnDef="ClientCount">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="border-bottom: 2px solid black;background-color:  #3B8AD9;color: white;"> Project Count</th>
                                <td mat-cell *matCellDef="let element"> {{element.ClientCount}} </td>
                            </ng-container>
                            <ng-container matColumnDef="RevenueVolume">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="border-bottom: 2px solid black;background-color:  #3B8AD9;color: white;border-right: none;">Revenue Volume</th>
                                <td mat-cell *matCellDef="let element" style="border-right: none;"> {{element.RevenueVolumeUSD}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Leader_h">
                                <th mat-header-cell *matHeaderCellDef colspan="1" style="max-width: 100px;width: 100px;padding-left: 10px;border-bottom: 1px solid black;" class="formheader" [ngStyle]="{'background-color' : LeaderFilter.value == '' || LeaderFilter.value == null ? '#FFFFFF' : '#F5B7B1'}" >
                                    <mat-form-field class="mat-form-wrap" appearance="outline">
                                        <mat-label style="text-align: center;">Leader</mat-label>
                                        <input style="font-weight: bold" matInput [formControl]="LeaderFilter">
                                    </mat-form-field>
                                </th>
                            </ng-container>
                            <ng-container matColumnDef="Manager_h">
                                <th mat-header-cell *matHeaderCellDef colspan="1" style="max-width: 100px;width: 100px;padding-left: 10px;border-bottom: 1px solid black;" class="formheader" [ngStyle]="{'background-color' : ManagerFilter.value == '' || ManagerFilter.value == null ? '#FFFFFF' : '#F5B7B1'}" >
                                    <mat-form-field class="mat-form-wrap" appearance="outline">
                                        <mat-label style="text-align: center;">Manager</mat-label>
                                        <input style="font-weight: bold" matInput [formControl]="ManagerFilter">
                                    </mat-form-field>
                                </th>
                            </ng-container>
                            <ng-container matColumnDef="Region_h">
                                <th mat-header-cell *matHeaderCellDef colspan="1" style="max-width: 100px;width: 100px;padding-left: 10px;border-bottom: 1px solid black;" class="formheader" [ngStyle]="{'background-color' : RegionFilter.value == '' || RegionFilter.value == null ? '#FFFFFF' : '#F5B7B1'}" >
                                    <mat-form-field class="mat-form-wrap" appearance="outline">
                                        <mat-label style="text-align: center;">Region</mat-label>
                                        <input style="font-weight: bold" matInput [formControl]="RegionFilter">
                                    </mat-form-field>
                                </th>
                            </ng-container>
                            <ng-container matColumnDef="Role_h">
                                <th mat-header-cell *matHeaderCellDef colspan="1" style="max-width: 100px;width: 100px;padding-left: 10px;border-bottom: 1px solid black;" class="formheader" [ngStyle]="{'background-color' : RoleFilter.value == '' || RoleFilter.value == null ? '#FFFFFF' : '#F5B7B1'}" >
                                    <mat-form-field class="mat-form-wrap" appearance="outline">
                                        <mat-label style="text-align: center;">Role</mat-label>
                                        <input style="font-weight: bold" matInput [formControl]="RoleFilter">
                                    </mat-form-field>
                                </th>
                            </ng-container>
                            <ng-container matColumnDef="ProjectEffort_c_h">
                                <th mat-header-cell *matHeaderCellDef colspan="1" style="max-width: 100px;width: 100px;padding-left: 10px;border-bottom: 1px solid black;" class="formheader" [ngStyle]="{'background-color' : ProjectEffortFilter.value == '' || ProjectEffortFilter.value == null ? '#FFFFFF' : '#F5B7B1'}" >
                                    <mat-form-field class="mat-form-wrap" appearance="outline">
                                        <mat-label style="text-align: center;">Project Effort</mat-label>
                                        <input style="font-weight: bold" matInput [formControl]="ProjectEffortFilter">
                                    </mat-form-field>
                                </th>
                            </ng-container>
                            <ng-container matColumnDef="ClientCount_h">
                                <th mat-header-cell *matHeaderCellDef colspan="1" style="max-width: 100px;width: 100px;padding-left: 10px;border-bottom: 1px solid black;" class="formheader" [ngStyle]="{'background-color' : ClientCountFilter.value == '' || ClientCountFilter.value == null ? '#FFFFFF' : '#F5B7B1'}" >
                                    <mat-form-field class="mat-form-wrap" appearance="outline">
                                        <mat-label style="text-align: center;">Project Count</mat-label>
                                        <input style="font-weight: bold" matInput [formControl]="ClientCountFilter">
                                    </mat-form-field>
                                </th>
                            </ng-container>
                            <ng-container matColumnDef="RevenueVolume_h">
                                <th mat-header-cell *matHeaderCellDef colspan="1" style="max-width: 100px;width: 100px;padding-left: 10px;border-bottom: 1px solid black;border-right: none;" class="formheader" [ngStyle]="{'background-color' : RevenueVolumeFilter.value == '' || RevenueVolumeFilter.value == null ? '#FFFFFF' : '#F5B7B1'}" >
                                    <mat-form-field class="mat-form-wrap" appearance="outline">
                                        <mat-label style="text-align: center;">Revenue Volume</mat-label>
                                        <input style="font-weight: bold" matInput [formControl]="RevenueVolumeFilter">
                                    </mat-form-field>
                                </th>
                            </ng-container>
                            <ng-container matColumnDef="Total">
                                <th mat-footer-cell *matFooterCellDef  class="row_textsize" colspan="4" style="border-top: 2px solid black;border-right: 2px solid black;background-color:  rgb(213, 216, 220);color: black;font-weight: 500; text-align: right;padding-right: 15px;">Total : </th>
                            </ng-container>
                            <ng-container matColumnDef="TotalEffort">
                                <th mat-footer-cell *matFooterCellDef  class="row_textsize" style="border-top: 2px solid black;border-right: 2px solid black;background-color:  rgb(213, 216, 220);color: black;font-weight: 500;text-align: center;">{{TotalEffort}}</th>
                            </ng-container>
                            <ng-container matColumnDef="TotalCount">
                                <th mat-footer-cell *matFooterCellDef  class="row_textsize" style="border-top: 2px solid black;border-right: 2px solid black;background-color:  rgb(213, 216, 220);color: black;font-weight: 500;text-align: center;">{{TotalCount}}</th>
                            </ng-container>
                            <ng-container matColumnDef="TotalRevenue">
                                <th mat-footer-cell *matFooterCellDef  class="row_textsize" style="border-top: 2px solid black;background-color:  rgb(213, 216, 220);color: black;font-weight: 500;text-align: center;">{{TotalRevenue}}</th>
                            </ng-container>
                            <ng-container matColumnDef="Average">
                                <th mat-footer-cell *matFooterCellDef  class="row_textsize" colspan="4" style="border-top: 2px solid black;border-right: 2px solid black;background-color:  rgb(213, 216, 220);color: black;font-weight: 500; text-align: right;padding-right: 15px;">Average : </th>
                            </ng-container>
                            <ng-container matColumnDef="AverageEffort">
                                <th mat-footer-cell *matFooterCellDef  class="row_textsize" style="border-top: 2px solid black;border-right: 2px solid black;background-color:  rgb(213, 216, 220);color: black;font-weight: 500;text-align: center;">{{AverageEffort}}</th>
                            </ng-container>
                            <ng-container matColumnDef="AverageCount">
                                <th mat-footer-cell *matFooterCellDef  class="row_textsize" style="border-top: 2px solid black;border-right: 2px solid black;background-color:  rgb(213, 216, 220);color: black;font-weight: 500;text-align: center;">{{AverageCount}}</th>
                            </ng-container>
                            <ng-container matColumnDef="AverageRevenue">
                                <th mat-footer-cell *matFooterCellDef  class="row_textsize" style="border-top: 2px solid black;background-color:  rgb(213, 216, 220);color: black;font-weight: 500;text-align: center;">{{AverageRevenue}}</th>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="displayedColumns_GM; sticky : true;" style="height: 35px;max-height: 35px;border-bottom: 2px solid black"></tr>
                            <tr mat-header-row *matHeaderRowDef="displayedColumns_h;sticky: true" style="border-bottom: 2px solid black"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns_GM;" style="height: 20px;max-height: 20px;"></tr>
                            <tr mat-footer-row *matFooterRowDef="['Total','TotalEffort','TotalCount','TotalRevenue'];sticky : true;" style="border-top: 2px solid black;height: 35px;max-height: 35px;"></tr>
                            <tr mat-footer-row *matFooterRowDef="['Average','AverageEffort','AverageCount','AverageRevenue'];sticky : true;" style="border-top: 2px solid black;height: 35px;max-height: 35px;"></tr>
                        </table>
                    </div>
                </div>
            </div>
            <!-- <div style="position: absolute;cursor: pointer;width: 30px;height: 30px;background-color: #333F48;margin-left: 0px;margin-top: 25%;" class="mat-elevation-z2" (click)= "sidenav.toggle()"><mat-icon *ngIf="!sidenav.opened" style="color: white;font-size: 24px;margin-top: 2px;margin-left: 3px;">arrow_forward_ios</mat-icon><mat-icon *ngIf="sidenav.opened" style="color: white;font-size: 24px;margin-top: 2px;margin-left: 8px;">arrow_back_ios</mat-icon></div> -->
        </div>
    </mat-drawer-content>
</mat-drawer-container>