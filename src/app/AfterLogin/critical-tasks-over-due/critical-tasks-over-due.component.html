<mat-drawer-container>
    <mat-drawer mode="side" #sidenav opened style="position: fixed;padding-top: 60px;width: 15%;border: 1px solid #333F48;">
        <div class="row" style="margin: 0px;padding: 0px;">
            <div class="col-12" style="margin: 0px;padding: 0px;">
                <div class="sticky">
                    <div class="row col-12" style="background-color: #333F48;color: white;height: 60px;padding: 15px 10px 5px 10px; margin : 0px;text-align: center">
                        <label class="col-5" style="height: 35px;font-size: 20px;text-align: center;;margin-top: 10px;padding-left: 25px">Filters</label>
                        <div class="col-2">
                            <button mat-icon-button style="color: white;cursor: pointer;" (click)="ResetFilters()">
                                <mat-icon>settings_backup_restore</mat-icon>
                            </button>
                        </div>
                        <div class="col-5" style="margin-top: 5px;text-align: right;padding: 0px;">
                            <button class="btn-style"  (click)="SetGraph()" style="background-color: #F16950;color : white" >Apply</button>
                        </div>
                    </div>
                </div>
                <!-- <mat-form-field class="col-md-12" style="margin-top: 10px;">
                    <mat-label style="font-size: 15px;">Task Type</mat-label>
                    <mat-select [formControl]="Task_Type">
                        <mat-option *ngFor="let task of TaskTypes" [value]="task">{{task}}</mat-option>
                    </mat-select>
                </mat-form-field> -->
                <mat-accordion multi="true" style="margin: 0px;padding: 0px;">
                    <mat-expansion-panel class="mat-elevation-z0" style="margin: 10px 0px 0px 0px;" [expanded]="true">
                        <mat-expansion-panel-header [collapsedHeight]="'35px'" [expandedHeight]="'35px'">
                            <mat-panel-title style="margin-left: 0px">
                                <label style="padding-top: 10px;">Task Type</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-divider style="width: 100%;margin: 10px 0px 0px 0px;"></mat-divider>
                        <mat-nav-list>
                            <mat-list-item style="height: 35px;"><mat-checkbox class="example-margin" [(ngModel)]="mastertasktype" name="mastertasktype" (change)="checkUncheckTaskType()">Select all</mat-checkbox></mat-list-item>
                            <mat-list-item style="height: 35px;" *ngFor="let task_type of TaskTypeList"><mat-checkbox class="example-margin" [(ngModel)]="task_type.isSelected" (change)="task_typeSelected()" name="task_type.TaskType">{{task_type.TaskType}}</mat-checkbox></mat-list-item>
                        </mat-nav-list>
                    </mat-expansion-panel>
                    <mat-expansion-panel class="mat-elevation-z0" style="margin: 10px 0px 0px 0px;" [expanded]="true">
                        <mat-expansion-panel-header [collapsedHeight]="'35px'" [expandedHeight]="'35px'">
                            <mat-panel-title style="margin-left: 0px">
                                <label style="padding-top: 10px;">Group Name</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-divider style="width: 100%;margin: 10px 0px 0px 0px;"></mat-divider>
                        <mat-nav-list>
                            <mat-list-item style="height: 35px;"><mat-checkbox class="example-margin" [(ngModel)]="mastergname" name="mastergname" (change)="checkUncheckGName()">Select all</mat-checkbox></mat-list-item>
                            <mat-list-item style="height: 35px;" *ngFor="let gname of groupnameList"><mat-checkbox class="example-margin" [(ngModel)]="gname.isSelected" (change)="gnameSelected()" name="gname.Group_Name">{{gname.Group_Name}}</mat-checkbox></mat-list-item>
                        </mat-nav-list>
                    </mat-expansion-panel>
                    <!-- [ngStyle]="{'position' : gNameEp.expanded == true ? 'sticky' : 'static'}" style="bottom: 0px;padding-bottom: 5px;" -->
                    <!-- <div class="li_main" style="margin-left: 10px;">
                        <li class="li_items" *ngFor="let Sgname of groupnameListSelected;"><label>{{Sgname.Group_Name}}</label><label class="li_button" (click)="deselectgname(Sgname.Group_Name)">X</label></li>
                    </div> -->
                    <mat-expansion-panel class="mat-elevation-z0" style="margin: 10px 0px 0px 0px" [expanded]="true">
                        <mat-expansion-panel-header [collapsedHeight]="'30px'" [expandedHeight]="'30px'">
                            <mat-panel-title style="margin-left: 0px">
                                <label style="padding-top: 10px;">Project Level</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-divider style="width: 100%;margin: 10px 0px 0px 0px;padding: 0px;"></mat-divider>
                        <mat-nav-list>
                            <mat-list-item style="height: 35px"><mat-checkbox class="example-margin" [(ngModel)]="masterlevel" name="masterlevel" (change)="checkUncheckLevel()">Select all</mat-checkbox></mat-list-item>
                            <mat-list-item style="height: 35px" *ngFor="let level of levelList"><mat-checkbox class="example-margin" [(ngModel)]="level.isSelected" (change)="levelSelected()" name="level.Workspace__Project_Level">{{level.Workspace__Project_Level}}</mat-checkbox></mat-list-item>
                        </mat-nav-list>
                    </mat-expansion-panel>
                    <!-- <div class="li_main" style="margin-left: 10px;">
                        <li class="li_items" *ngFor="let Slevel of levelListSelected;"><label>{{Slevel.Workspace__Project_Level}}</label><label class="li_button" (click)="deselectLevel(Slevel.Workspace__Project_Level)">X</label></li>
                    </div> -->
                    <mat-expansion-panel class="mat-elevation-z0" style="margin: 10px 0px 0px 0px;padding: 0px;;" [expanded]="true">
                        <mat-expansion-panel-header [collapsedHeight]="'30px'" [expandedHeight]="'30px'">
                            <mat-panel-title style="margin-left: 0px">
                                <label style="padding-top: 10px;">Region</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-divider style="width: 100%;margin: 10px 0px 0px 0px;padding: 0px;"></mat-divider>
                        <mat-nav-list>
                            <mat-list-item style="height: 35px"><mat-checkbox class="example-margin" [(ngModel)]="masterregion" name="masterregion" (change)="checkUncheckRegion()">Select all</mat-checkbox></mat-list-item>
                            <mat-list-item style="height: 35px" *ngFor="let region of regionList" ><mat-checkbox class="example-margin" [(ngModel)]="region.isSelected" (change)="regionSelected()" name="region.Milestone__Region">{{region.Milestone__Region}}</mat-checkbox></mat-list-item>
                        </mat-nav-list>
                    </mat-expansion-panel>
                    <!-- <mat-expansion-panel class="mat-elevation-z0" style="margin: 10px 0px 0px 0px;padding: 0px;;" [expanded]="true">
                        <mat-expansion-panel-header [collapsedHeight]="'30px'" [expandedHeight]="'30px'">
                            <mat-panel-title style="margin-left: 0px">
                                <label style="padding-top: 10px;">Milestone Assigne</label>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-divider style="width: 100%;margin: 10px 0px 0px 0px;padding: 0px;"></mat-divider>
                        <mat-nav-list>
                            <mat-list-item style="height: 35px"><mat-checkbox class="example-margin" [(ngModel)]="masterassigne" name="masterassigne" (change)="checkUncheckAssigne()">Select all</mat-checkbox></mat-list-item>
                            <mat-list-item style="height: 35px" *ngFor="let assigne of AssigneFullNameList" ><mat-checkbox class="example-margin" [(ngModel)]="assigne.isSelected" (change)="AssigneSelected()" name="assigne.AssigneFullName">{{assigne.AssigneFullName}}</mat-checkbox></mat-list-item>
                        </mat-nav-list>
                    </mat-expansion-panel> -->
                    <!-- <div class="li_main" style="margin-left: 10px;">
                        <li class="li_items" *ngFor="let Sregion of regionListSelected;"><label>{{Sregion.Milestone__Region}}</label><label class="li_button" (click)="deselectRegion(Sregion.Milestone__Region)">X</label></li>
                    </div> -->
                </mat-accordion>
            </div>
        </div>
    </mat-drawer>
    <mat-drawer-content>
        <div class="row" style="margin: 0px;padding: 0px;position: relative;">
            <div class="row col-md-12">
                <div class="col-md-6">
                    <mat-card class="example-card mat-elevation-z2" style="margin-left: 15px;height: auto;overflow: auto;padding: 0px;">
                        <div class="col-12" style="height: 35px;background-color: #34495E ;color:white;padding: 5px 0px 0px 0px; margin : 0px;text-align: center">
                            <label style="font-size: 16px;margin-top: 5px;text-align: center;font-family: Montserrat, sans-serif">Projects Count By Region</label>
                        </div>
                        <div class="col-md-12" style="margin-bottom: 10px;">
                            <canvas id="Rcanvas">
                            </canvas>
                        </div>
                    </mat-card>
                </div>
                <div class="col-md-6">
                    <mat-card class="example-card mat-elevation-z2" style="margin-left: 15px;height: auto;overflow: auto;padding: 0px;">
                        <div class="col-12" style="height: 35px;background-color: #34495E ;color:white;padding: 5px 0px 0px 0px; margin : 0px;text-align: center">
                            <label style="font-size: 16px;margin-top: 5px;text-align: center;font-family: Montserrat, sans-serif">Projects Count By Group Name</label>
                        </div>
                        <div class="col-md-12" style="margin-bottom: 10px;">
                            <canvas id="GNcanvas">
                            </canvas>
                        </div>
                    </mat-card>
                </div>
                <div class="col-md-12" style="margin-left: 15px;height: 25px;margin-bottom: 10px;">
                    <button mat-raised-button style="height: 33px;background-color: #F16950;color: white;" (click)="exportData()">Export
                        <mat-icon style="font-size: 18px;color: white;">save_alt</mat-icon>
                    </button>
                    <mat-form-field style="width: 60%;margin-left: 10px;margin-right: 15px;">
                        <mat-label style="padding-left: 5px;font-weight: bold;">Search</mat-label>
                        <input matInput (keyup)="applyFilter($event)" #input>
                        <mat-icon matSuffix>search</mat-icon>
                    </mat-form-field>
                    <label style="margin: 8px 0px 0px 15px;font-size: 16px;font-weight: bold;font-family: Arial, Helvetica, sans-serif;">Data Count  :&nbsp;&nbsp;</label>
                    <label style="margin: 8px 25px 0px 0px;font-size: 16px;font-weight: bold;font-family: Arial, Helvetica, sans-serif;">{{FilteredCount}}</label>   
                </div>
                <div class="col-md-12">
                    <div class="example-container" [ngStyle]="{'height' : (screenHeight-115)+'px'}">
                        <table mat-table [dataSource]="dataSource" matSort>
                            <ng-container matColumnDef="Workspace_Title">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="padding-left: 10px;background-color: #34495E ;color: white;">W : Title</th>
                                <td mat-cell *matCellDef="let element" style="padding-left: 10px;" [ngStyle]="{'color' : element.Task_Overdue > 5 ? 'rgb(255, 0, 0)' : '#000000'}"> {{element.Workspace_Title}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Milestone_Title_Country___Est_Go_Live_Date">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="background-color: #34495E ;color: white;"> M : Title-Country (Estimated Go Live Date) </th>
                                <td mat-cell *matCellDef="let element" [ngStyle]="{'color' : element.Task_Overdue > 5 ? 'rgb(255, 0, 0)' : '#000000'}"> {{element.Milestone_Title_Country___Est_Go_Live_Date}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Task_Title">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="background-color: #34495E ;color: white;"> T : Title </th>
                                <td mat-cell *matCellDef="let element" [ngStyle]="{'color' : element.Task_Overdue > 5 ? 'rgb(255, 0, 0)' : '#000000'}"> {{element.Task_Title}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Milestone__Project_Status">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="background-color: #34495E ;color: white;"> M : Project Status </th>
                                <td mat-cell *matCellDef="let element" [ngStyle]="{'color' : element.Task_Overdue > 5 ? 'rgb(255, 0, 0)' : '#000000'}"> {{element.Milestone__Project_Status}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Milestone__Region">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="background-color: #34495E ;color: white;"> M : Region </th>
                                <td mat-cell *matCellDef="let element" [ngStyle]="{'color' : element.Task_Overdue > 5 ? 'rgb(255, 0, 0)' : '#000000'}"> {{element.Milestone__Region}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Workspace__Project_Level">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="background-color: #34495E ;color: white;"> W : Project Level </th>
                                <td mat-cell *matCellDef="let element" [ngStyle]="{'color' : element.Task_Overdue > 5 ? 'rgb(255, 0, 0)' : '#000000'}"> {{element.Workspace__Project_Level}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Group_Name">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="background-color: #34495E ;color: white;"> Group Name </th>
                                <td mat-cell *matCellDef="let element" [ngStyle]="{'color' : element.Task_Overdue > 5 ? 'rgb(255, 0, 0)' : '#000000'}"> {{element.Group_Name}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Task_Due_Date_c">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="background-color: #34495E ;color: white;"> T : Due Date </th>
                                <td mat-cell *matCellDef="let element" [ngStyle]="{'color' : element.Task_Overdue > 5 ? 'rgb(255, 0, 0)' : '#000000'}"> {{element.Task_Due_Date_c}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Critical_Overdue">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="background-color: #34495E ;color: white;"> Critical Overdue </th>
                                <td mat-cell *matCellDef="let element" [ngStyle]="{'color' : element.Task_Overdue > 5 ? 'rgb(255, 0, 0)' : '#000000'}"> {{element.Critical_Overdue}} </td>
                            </ng-container>
                            <ng-container matColumnDef="OwnershipRevenue">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="background-color: #34495E ;color: white;"> Ownership Revenue </th>
                                <td mat-cell *matCellDef="let element" [ngStyle]="{'color' : element.Task_Overdue > 5 ? 'rgb(255, 0, 0)' : '#000000'}"> {{element.OwnershipRevenue}} </td>
                            </ng-container>
                            <ng-container matColumnDef="Task_Overdue">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header class="textSizes" style="padding-right: 10px;background-color:#34495E ;color: white;"> T : Overdue </th> 
                                <td mat-cell *matCellDef="let element" style="padding-right: 10px;" [ngStyle]="{'color' : element.Task_Overdue > 5 ? 'rgb(255, 0, 0)' : '#000000'}"> {{element.Task_Overdue}} </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky : true;" style="padding-top: 0px;margin-top: 0px;height: 45px"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                        </table>
                    </div>
                </div>
                <div class="col-md-12" style="text-align: right">
                    <label style="color: red">* W = Workspace, M = Milestone, T = Task</label>
                </div>
            </div>
            <div style="position: absolute;cursor: pointer;width: 30px;height: 30px;background-color: #333F48;margin-left: 0px;margin-top: 20%;" class="mat-elevation-z2" (click)= "sidenav.toggle()"><mat-icon *ngIf="!sidenav.opened" style="color: white;font-size: 24px;margin-top: 2px;margin-left: 3px;">arrow_forward_ios</mat-icon><mat-icon *ngIf="sidenav.opened" style="color: white;font-size: 24px;margin-top: 2px;margin-left: 8px;">arrow_back_ios</mat-icon></div>
        </div>
        <!-- <div style="height: 40px;text-align: center;background-color: #333F48;">
            <label style="text-align: center;margin-top: 10px;font-size: 12px;color: white;font-family: Montserrat, sans-serif">Copyright ©2020 @CWT | All rights reserved</label>
        </div> -->
    </mat-drawer-content>
</mat-drawer-container>